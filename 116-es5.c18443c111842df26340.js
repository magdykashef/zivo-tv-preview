!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(self.webpackChunkzivo_tv_src_angular12=self.webpackChunkzivo_tv_src_angular12||[]).push([[116],{3116:function(e,i,a){a.r(i),a.d(i,{PaymentModule:function(){return D}});var r,o=a(8583),s=a(906),c=a(8720),u=a(8822),p=a(1841),l=((r=function(){function e(n){t(this,e),this.http=n,this.baseUrl="https://accept.paymob.com/api",this.headers=new p.WM({"Content-Type":"application/json"}),this.apiKey="ZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6VXhNaUo5LmV5SndjbTltYVd4bFgzQnJJam94TkRRM056RXNJbU5zWVhOeklqb2lUV1Z5WTJoaGJuUWlMQ0p1WVcxbElqb2lhVzVwZEdsaGJDSjkuTFdxTDFsaWlsekNzZEF4MUdiMTdtQ2syV3hwRXh1LVBDdDI1SW5kNUExQkxtUmpXd0dPQVpWLS1mWjlBSnlvUGRmQThhaVdnWHNObkNrZ0UtQ1JlYkE="}return n(e,[{key:"first_AuthenticationRequest",value:function(){return this.http.post("".concat(this.baseUrl,"/auth/tokens"),{api_key:this.apiKey},{headers:this.headers})}},{key:"second_OrderRegistrationAPI",value:function(t){return this.http.post("".concat(this.baseUrl,"/ecommerce/orders"),t,{headers:this.headers})}},{key:"third_PaymentKeyRequest",value:function(t){return this.http.post("".concat(this.baseUrl,"/acceptance/payment_keys"),t,{headers:this.headers})}}]),e}()).\u0275fac=function(t){return new(t||r)(c.LFG(p.eN))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r),h=a(2925),m=a(9075),f=function(){var e=function(){function e(n){t(this,e),this.sanitizer=n}return n(e,[{key:"transform",value:function(t,e){switch(e){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error("SafePipe unable to bypass security for invalid type: ".concat(e))}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(m.H7,16))},e.\u0275pipe=c.Yjl({name:"safe",type:e,pure:!0}),e}();function d(t,e){1&t&&(c.TgZ(0,"div",3),c._UZ(1,"app-spinner"),c.qZA())}function y(t,e){if(1&t&&(c._UZ(0,"iframe",4),c.ALo(1,"safe")),2&t){var n=c.oxw();c.Q6J("src",c.xi3(1,1,"https://accept.paymob.com/api/acceptance/iframes/"+n.iframeCardStyle.NORMAL+"?payment_token="+n.iframePaymentToken,"resourceUrl"),c.uOi)}}var g=!1,b=function(){var e=function(){function e(n){t(this,e),this.paymobPaymentService=n,this.iframeCardStyle={NORMAL:"323656",MODERN_EXPANDED:"323655"},this.integrationId=1652692,Object.freeze(this.iframeCardStyle)}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.paymobPaymentService.first_AuthenticationRequest().subscribe(function(e){t.paymobPaymentService.second_OrderRegistrationAPI({auth_token:"".concat(e.token),delivery_needed:!1,amount_cents:t.amountCents,currency:"EGP",items:t.items,shipping_data:t.shippingData,shipping_details:t.shippingDetails}).subscribe(function(n){t.paymobPaymentService.third_PaymentKeyRequest({auth_token:"".concat(e.token),amount_cents:t.amountCents,expiration:3600,order_id:n.id,currency:"EGP",billing_data:t.billingData,integration_id:t.integrationId,lock_order_when_paid:!1}).subscribe(function(e){return t.iframePaymentToken=e.token},function(t){return console.log(t)})},function(t){return console.log(t)})},function(t){return console.log(t)})}},{key:"ngOnDestroy",value:function(){}},{key:"paymobApiInit",value:function(){var t;if(!g){var e=document.createElement("script");e.src="https://demo.myfatoorah.com/cardview/v1/session.js";var n=document.getElementsByTagName("script")[0];null===(t=n.parentNode)||void 0===t||t.insertBefore(e,n),g=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(l))},e.\u0275cmp=c.Xpm({type:e,selectors:[["paymob-payment"]],inputs:{amountCents:"amountCents",items:"items",shippingData:"shippingData",shippingDetails:"shippingDetails",billingData:"billingData"},decls:3,vars:2,consts:[[1,"col-12","h-100","row","justify-content-center"],["class","col-12 h-100 row justify-content-center align-items-center",4,"ngIf"],["class","col-12 h-100","title","paymob payment",3,"src",4,"ngIf"],[1,"col-12","h-100","row","justify-content-center","align-items-center"],["title","paymob payment",1,"col-12","h-100",3,"src"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.YNc(1,d,2,0,"div",1),c.YNc(2,y,2,4,"iframe",2),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngIf",!e.iframePaymentToken),c.xp6(1),c.Q6J("ngIf",e.iframePaymentToken))},directives:[o.O5,h.O],pipes:[f],styles:["[_nghost-%COMP%]{width:100%;height:100%}iframe[_ngcontent-%COMP%]{background-color:gray;border:0}"]}),e}(),v=[{path:"",component:function(){var e=function e(){t(this,e),this.amountCents=7900,this.items=[{name:"ASC1515",amount_cents:"500000",description:"Smart Watch",quantity:"1"},{name:"ERT6565",amount_cents:"200000",description:"Power Bank",quantity:"1"}],this.shippingData={apartment:"803",email:"claudette09@exa.com",floor:"42",first_name:"Clifford",street:"Ethan Land",building:"8028",phone_number:"+86(8)9135210487",postal_code:"01898",extra_description:"8 Ram , 128 Giga",city:"Jaskolskiburgh",country:"CR",last_name:"Nicolas",state:"Utah"},this.shippingDetails={notes:" test",number_of_packages:1,weight:1,weight_unit:"Kilogram",length:1,width:1,height:1,contents:"product of some sorts"},this.billingData={apartment:"803",email:"claudette09@exa.com",floor:"42",first_name:"Clifford",street:"Ethan Land",building:"8028",phone_number:"+86(8)9135210487",shipping_method:"PKG",postal_code:"01898",city:"Jaskolskiburgh",country:"CR",last_name:"Nicolas",state:"Utah"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["payments"]],decls:4,vars:4,consts:[[1,"col-12","d-none","d-md-block"],[1,"col-12","row","justify-content-center",2,"height","100vh","margin","0 auto"],[3,"amountCents","shippingData","shippingDetails","billingData"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"header-margin-top"),c.qZA(),c.TgZ(2,"div",1),c._UZ(3,"paymob-payment",2),c.qZA()),2&t&&(c.xp6(3),c.Q6J("amountCents",e.amountCents)("shippingData",e.shippingData)("shippingDetails",e.shippingDetails)("billingData",e.billingData))},directives:[u.W,b],styles:[""]}),e}()}],_=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.Bz.forChild(v)],s.Bz]}),e}(),k=a(3957),w=a(8721),C=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[l],imports:[[o.ez,k.Z,w.F]]}),e}(),S=a(4559),D=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.ez,_,C,S.I]]}),e}()},8822:function(e,n,i){i.d(n,{W:function(){return c}});var a,r=i(8720),o=i(8583),s=function(t){return{"background-color":t}},c=((a=function e(){t(this,e),this.backgroundColor="#1B1B23"}).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=r.Xpm({type:a,selectors:[["header-margin-top"]],inputs:{backgroundColor:"backgroundColor"},decls:1,vars:3,consts:[[1,"header-margin-top","col-12",3,"ngStyle"]],template:function(t,e){1&t&&r._UZ(0,"div",0),2&t&&r.Q6J("ngStyle",r.VKq(1,s,e.backgroundColor))},directives:[o.PC],styles:[".header-margin-top[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 767px){.header-margin-top[_ngcontent-%COMP%]{height:50px}}@media only screen and (min-width: 768px) and (max-width: 1370px){.header-margin-top[_ngcontent-%COMP%]{height:65px}}@media only screen and (min-width: 1371px){.header-margin-top[_ngcontent-%COMP%]{height:90px}}"]}),a)},4559:function(e,n,i){i.d(n,{I:function(){return s}});var a,r=i(8583),o=i(8720),s=((a=function e(){t(this,e)}).\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[[r.ez]]}),a)},3957:function(e,n,i){i.d(n,{Z:function(){return o}});var a,r=i(8720),o=((a=function e(){t(this,e)}).\u0275fac=function(t){return new(t||a)},a.\u0275mod=r.oAB({type:a}),a.\u0275inj=r.cJS({}),a)}}])}();