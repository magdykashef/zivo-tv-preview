"use strict";(self.webpackChunkzivo_tv_src_angular12=self.webpackChunkzivo_tv_src_angular12||[]).push([[116],{3116:function(t,e,n){n.r(e),n.d(e,{PaymentModule:function(){return w}});var i=n(8583),a=n(906),s=n(8720),r=n(8822),o=n(1841);let c=(()=>{class t{constructor(t){this.http=t,this.baseUrl="https://accept.paymob.com/api",this.headers=new o.WM({"Content-Type":"application/json"}),this.apiKey="ZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6VXhNaUo5LmV5SndjbTltYVd4bFgzQnJJam94TkRRM056RXNJbU5zWVhOeklqb2lUV1Z5WTJoaGJuUWlMQ0p1WVcxbElqb2lhVzVwZEdsaGJDSjkuTFdxTDFsaWlsekNzZEF4MUdiMTdtQ2syV3hwRXh1LVBDdDI1SW5kNUExQkxtUmpXd0dPQVpWLS1mWjlBSnlvUGRmQThhaVdnWHNObkNrZ0UtQ1JlYkE="}first_AuthenticationRequest(){return this.http.post(`${this.baseUrl}/auth/tokens`,{api_key:this.apiKey},{headers:this.headers})}second_OrderRegistrationAPI(t){return this.http.post(`${this.baseUrl}/ecommerce/orders`,t,{headers:this.headers})}third_PaymentKeyRequest(t){return this.http.post(`${this.baseUrl}/acceptance/payment_keys`,t,{headers:this.headers})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(o.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();var p=n(2925),l=n(9075);let u=(()=>{class t{constructor(t){this.sanitizer=t}transform(t,e){switch(e){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error(`SafePipe unable to bypass security for invalid type: ${e}`)}}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.H7,16))},t.\u0275pipe=s.Yjl({name:"safe",type:t,pure:!0}),t})();function h(t,e){1&t&&(s.TgZ(0,"div",3),s._UZ(1,"app-spinner"),s.qZA())}function m(t,e){if(1&t&&(s._UZ(0,"iframe",4),s.ALo(1,"safe")),2&t){const t=s.oxw();s.Q6J("src",s.xi3(1,1,"https://accept.paymob.com/api/acceptance/iframes/"+t.iframeCardStyle.NORMAL+"?payment_token="+t.iframePaymentToken,"resourceUrl"),s.uOi)}}let d=!1,y=(()=>{class t{constructor(t){this.paymobPaymentService=t,this.iframeCardStyle={NORMAL:"323656",MODERN_EXPANDED:"323655"},this.integrationId=1652692,Object.freeze(this.iframeCardStyle)}ngOnInit(){this.paymobPaymentService.first_AuthenticationRequest().subscribe(t=>{this.paymobPaymentService.second_OrderRegistrationAPI({auth_token:`${t.token}`,delivery_needed:!1,amount_cents:this.amountCents,currency:"EGP",items:this.items,shipping_data:this.shippingData,shipping_details:this.shippingDetails}).subscribe(e=>{this.paymobPaymentService.third_PaymentKeyRequest({auth_token:`${t.token}`,amount_cents:this.amountCents,expiration:3600,order_id:e.id,currency:"EGP",billing_data:this.billingData,integration_id:this.integrationId,lock_order_when_paid:!1}).subscribe(t=>this.iframePaymentToken=t.token,t=>console.log(t))},t=>console.log(t))},t=>console.log(t))}ngOnDestroy(){}paymobApiInit(){var t;if(!d){const e=document.createElement("script");e.src="https://demo.myfatoorah.com/cardview/v1/session.js";const n=document.getElementsByTagName("script")[0];null===(t=n.parentNode)||void 0===t||t.insertBefore(e,n),d=!0}}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(c))},t.\u0275cmp=s.Xpm({type:t,selectors:[["paymob-payment"]],inputs:{amountCents:"amountCents",items:"items",shippingData:"shippingData",shippingDetails:"shippingDetails",billingData:"billingData"},decls:3,vars:2,consts:[[1,"col-12","h-100","row","justify-content-center"],["class","col-12 h-100 row justify-content-center align-items-center",4,"ngIf"],["class","col-12 h-100","title","paymob payment",3,"src",4,"ngIf"],[1,"col-12","h-100","row","justify-content-center","align-items-center"],["title","paymob payment",1,"col-12","h-100",3,"src"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.YNc(1,h,2,0,"div",1),s.YNc(2,m,2,4,"iframe",2),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngIf",!e.iframePaymentToken),s.xp6(1),s.Q6J("ngIf",e.iframePaymentToken))},directives:[i.O5,p.O],pipes:[u],styles:["[_nghost-%COMP%]{width:100%;height:100%}iframe[_ngcontent-%COMP%]{background-color:gray;border:0}"]}),t})();const g=[{path:"",component:(()=>{class t{constructor(){this.amountCents=7900,this.items=[{name:"ASC1515",amount_cents:"500000",description:"Smart Watch",quantity:"1"},{name:"ERT6565",amount_cents:"200000",description:"Power Bank",quantity:"1"}],this.shippingData={apartment:"803",email:"claudette09@exa.com",floor:"42",first_name:"Clifford",street:"Ethan Land",building:"8028",phone_number:"+86(8)9135210487",postal_code:"01898",extra_description:"8 Ram , 128 Giga",city:"Jaskolskiburgh",country:"CR",last_name:"Nicolas",state:"Utah"},this.shippingDetails={notes:" test",number_of_packages:1,weight:1,weight_unit:"Kilogram",length:1,width:1,height:1,contents:"product of some sorts"},this.billingData={apartment:"803",email:"claudette09@exa.com",floor:"42",first_name:"Clifford",street:"Ethan Land",building:"8028",phone_number:"+86(8)9135210487",shipping_method:"PKG",postal_code:"01898",city:"Jaskolskiburgh",country:"CR",last_name:"Nicolas",state:"Utah"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["payments"]],decls:4,vars:4,consts:[[1,"col-12","d-none","d-md-block"],[1,"col-12","row","justify-content-center",2,"height","100vh","margin","0 auto"],[3,"amountCents","shippingData","shippingDetails","billingData"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"header-margin-top"),s.qZA(),s.TgZ(2,"div",1),s._UZ(3,"paymob-payment",2),s.qZA()),2&t&&(s.xp6(3),s.Q6J("amountCents",e.amountCents)("shippingData",e.shippingData)("shippingDetails",e.shippingDetails)("billingData",e.billingData))},directives:[r.W,y],styles:[""]}),t})()}];let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[a.Bz.forChild(g)],a.Bz]}),t})();var b=n(3957),_=n(8721);let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[c],imports:[[i.ez,b.Z,_.F]]}),t})();var v=n(4559);let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[i.ez,f,k,v.I]]}),t})()},8822:function(t,e,n){n.d(e,{W:function(){return r}});var i=n(8720),a=n(8583);const s=function(t){return{"background-color":t}};let r=(()=>{class t{constructor(){this.backgroundColor="#1B1B23"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["header-margin-top"]],inputs:{backgroundColor:"backgroundColor"},decls:1,vars:3,consts:[[1,"header-margin-top","col-12",3,"ngStyle"]],template:function(t,e){1&t&&i._UZ(0,"div",0),2&t&&i.Q6J("ngStyle",i.VKq(1,s,e.backgroundColor))},directives:[a.PC],styles:[".header-margin-top[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 767px){.header-margin-top[_ngcontent-%COMP%]{height:50px}}@media only screen and (min-width: 768px) and (max-width: 1370px){.header-margin-top[_ngcontent-%COMP%]{height:65px}}@media only screen and (min-width: 1371px){.header-margin-top[_ngcontent-%COMP%]{height:90px}}"]}),t})()},4559:function(t,e,n){n.d(e,{I:function(){return s}});var i=n(8583),a=n(8720);let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[i.ez]]}),t})()},3957:function(t,e,n){n.d(e,{Z:function(){return a}});var i=n(8720);let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})()}}]);